!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const o=document.querySelector(".content");function r(e){let t=(e=e.toString()).split("");return 1==t[e.length-1]?e+"st":2==t[e.length-1]?e+"nd":3==t[e.length-1]?e+"rd":e+"th"}function c(e){return 0===e?"January":1===e?"February":2===e?"March":3===e?"April":4===e?"May":5===e?"June":6===e?"July":7===e?"August":8===e?"September":9===e?"October":10===e?"November":"December"}function l(e){const t=document.querySelector(".content");e=e.sort((e,t)=>e.priority>t.priority?1:-1);for(let o of e){const e=document.createElement("div");e.className="task";const l=document.createElement("div");l.className="task__priority","1"==o.priority?l.classList.add("task__priority--high"):"2"==o.priority?l.classList.add("task__priority--medium"):l.classList.add("task__priority--low");const a=document.createElement("span");a.className="task__title",a.textContent=o.title;const i=document.createElement("div");i.className="task__completed",i.innerHTML="\t&#10003;";const s=document.createElement("div");s.className="task__remove",s.innerHTML="&#10005;";const d=document.createElement("div");d.className="task__details",""==o.project&&console.log("empty");const m=document.createElement("span");m.className="task__project",m.textContent="Project: "+o.project;const u=new Date(o.date);let p=0===(n=u.getDay())?"Sunday":1===n?"Monday":2===n?"Tuesday":3===n?"Wednesday":4===n?"Thursday":5===n?"Friday":"Saturday",_=r(u.getDate()),f=c(u.getMonth()),y=u.getFullYear();const h=document.createElement("span");h.className="task__date",h.textContent=`Due Date:   ${p} ${_} ${f}, ${y}`;const S=document.createElement("p");S.className="task__description",S.textContent=o.description,1==o.completed?a.style["text-decoration"]="line-through":a.style["text-decoration"]="none",""!=o.project&&d.appendChild(m),d.appendChild(h),e.appendChild(l),e.appendChild(a),e.appendChild(i),e.appendChild(s),e.appendChild(d),e.appendChild(S),t.appendChild(e)}var n}function a(e){const t=document.querySelector(".sidebar"),n=document.createElement("div");n.className="projects__tab";const o=document.createElement("div");o.className="projects__tab__title",o.textContent=e.name;const r=document.createElement("div");r.className="projects__tab__remove",r.innerHTML="&#10005;",n.appendChild(o),n.appendChild(r),t.appendChild(n)}function i(){let e=document.querySelector(".content__header").textContent,t=e.split(" ");return 1==t.length||"Week"==t[1]?e:(t.splice(0,1),e=t.join(" "),"Project: "+e)}function s(e){const t=document.querySelector(".new__buttons");t.appendChild(e),setTimeout(()=>t.removeChild(e),2500)}const d=document.querySelector(".header__add"),m=document.querySelector(".content"),u=document.querySelector(".header__sidebar-toggle"),p=document.querySelector(".sidebar"),_=document.querySelector("#today"),f=document.querySelector("#tomorrow"),y=document.querySelector("#this-week"),h=document.querySelector("#projects"),S=document.querySelector(".projects__add"),v=document.querySelector(".header__search");let C=[],k=[],j=[],g=[],E=[],N=(new Date).getTime();N=(N+396e5)/1e3,N-=N%86400;let q=N+86400,x=0,w=!1,b=!1,T=!1,L=!1;function O(){document.querySelector(".new__title"),document.querySelector(".new__div"),document.querySelector(".new__buttons");for(;m.hasChildNodes();)m.removeChild(m.lastChild);x=0}function A(e){const t=document.createElement("h2");m.appendChild(t),t.className="content__header",t.textContent=e}function M(e){k=e.filter(e=>e.datetime===N),j=e.filter(e=>e.datetime===q);let t=N+172799,n=N+604801;g=e.filter(e=>e.datetime>t&&e.datetime<n)}function J(){Array.from(document.querySelectorAll(".task__completed")).forEach(e=>{e.addEventListener("click",e=>{let t=e.target.parentNode;const n=t.querySelector(".task__title"),o=t.querySelector(".task__description").textContent;let r=t.querySelector(".task__project");r=r?r.textContent.split(" ").slice(1).join(" "):"";const c=n.textContent;let a=C.filter(e=>e.title==c&&e.project==r&&e.description==o)[0];a.completed=!a.completed;let s=[];if(""!=a.project){s=E.filter(e=>e.name==r)[0].tasks,s.filter(e=>e.title==c&&e.description==o)[0].completed=a.completed}M(C);let d=i();O(),A(d),l("Today"==d?k:"Tomorrow"==d?j:"This Week"==d?g:s),J(),I(),localStorage.setItem("allTasks",JSON.stringify(C))})})}function I(){Array.from(document.querySelectorAll(".task__remove")).forEach(e=>{e.addEventListener("click",e=>{let t=e.target.parentNode,n=t.querySelector(".task__title").textContent;const o=t.querySelector(".task__description").textContent;let r=t.querySelector(".task__project");r=r?r.textContent.split(" ").slice(1).join(" "):"";let c=C.filter(e=>e.title==n&&e.project==r&&e.description==o),l=C.indexOf(c[0]);if(C.splice(l,1),M(C),c=c[0],""!=c.project){let e=E.filter(e=>e.name==r)[0].tasks,t=e.filter(e=>{e.title==n&&e.description})[0],o=e.indexOf(t);e.splice(o,1)}m.removeChild(t),localStorage.setItem("allTasks",JSON.stringify(C)),localStorage.setItem("projects",JSON.stringify(E))})})}function D(){Array.from(document.querySelectorAll(".projects__tab__remove")).forEach(e=>{e.addEventListener("click",e=>{let t=e.target.parentNode.querySelector(".projects__tab__title").textContent,n=E.filter(e=>e.name==t),o=E.indexOf(n[0]),r=E[o].tasks;for(;0!=r.length;){let e=r[0],t=e.title,n=e.project,o=e.description,c=e.timedate,l=C.filter(e=>e.title==t&&e.project==n&&e.description==o&&e.timedate==c)[0],a=C.indexOf(l);C.splice(a,1),r.splice(0,1)}E.splice(o,1),localStorage.setItem("allTasks",JSON.stringify(C)),localStorage.setItem("projects",JSON.stringify(E)),M(C);let c=i();O(),A(c),"Today"==c?l(k):"Tomorrow"==c?l(j):"This Week"==c?l(g):(O(),A("Today"),l(k));const s=Array.from(document.querySelectorAll(".projects__tab"));for(let e of s)p.removeChild(e);for(let e of E)a(e);J(),I(),H(),D()})})}function H(){Array.from(document.querySelectorAll(".projects__tab")).forEach(e=>{e.addEventListener("click",t=>{if("projects__tab__remove"==t.target.className)return;O();let n=e.textContent.split("").slice(0,e.textContent.length-1).join(""),o=E.filter(e=>e.name===n)[0];A("Project: "+o.name),o.tasks=o.tasks.sort((e,t)=>e.datetime>t.datetime?-1:1),l(o.tasks),J(),Array.from(document.querySelectorAll(".task__remove")).forEach(e=>{e.addEventListener("click",e=>{let t=e.target.parentNode,n=t.querySelector(".task__title").textContent,o=m.querySelector(".content__header").textContent.split(" ")[1],r=E.filter(e=>e.name==o)[0].tasks,c=r.filter(e=>e.title==n)[0],l=r.indexOf(c);r.splice(l,1),localStorage.setItem("projects",JSON.stringify(E)),c=C.filter(e=>e.project==o&&e.title==n)[0],l=C.indexOf(c),C.splice(l,1),localStorage.setItem("allTasks",JSON.stringify(C)),m.removeChild(t)})})})})}localStorage.allTasks&&(C=JSON.parse(localStorage.allTasks)),localStorage.projects&&(E=JSON.parse(localStorage.projects)),M(C),l(k);for(let e of E)a(e);J(),I(),H(),D(),d.addEventListener("click",()=>{if(1==x)return;x=1,O(),function(){const e=document.createElement("h2");o.appendChild(e),e.className="content__header",e.textContent="Add New Task";const t=document.createElement("input");t.type="text",t.className="new__title",t.placeholder="Task title";const n=document.createElement("textarea");n.className="new__description",n.placeholder="Task details";const r=document.createElement("input");r.type="text",r.className="new__project",r.placeholder="Project";const c=document.createElement("input");c.className="new__date",c.type="date";const l=document.createElement("select");l.className="new__priority";const a=document.createElement("option");a.value="Low",a.textContent="Low";const i=document.createElement("option");i.value="Medium",i.textContent="Medium";const s=document.createElement("option");s.value="High",s.textContent="High",l.appendChild(s),l.appendChild(i),l.appendChild(a);const d=document.createElement("div");d.className="new__div",d.appendChild(c),d.appendChild(l);const m=document.createElement("button");m.className="new__submit",m.textContent="SUBMIT";const u=document.createElement("button");u.className="new__clear",u.textContent="CLEAR";const p=document.createElement("div");p.className="new__buttons";const _=document.createElement("div");_.className="new",p.appendChild(m),p.appendChild(u),_.appendChild(t),_.appendChild(n),_.appendChild(r),_.appendChild(d),_.appendChild(p),o.appendChild(_)}();document.querySelector(".new__clear").addEventListener("click",()=>{O(),A("Today"),l(k)});document.querySelector(".new__submit").addEventListener("click",()=>{let e={};if(b=function(){let e=document.querySelector(".new__date").value;return new Date(e).getTime()/1e3>=N}(),!b){let e=document.createElement("div");return e.textContent="Invalid date selected!",e.className="error",void s(e)}if(e=function(){const e=document.querySelector(".new__title"),t=document.querySelector(".new__date"),n=document.querySelector(".new__priority"),o=document.querySelector(".new__project"),r=document.querySelector(".new__description");let c=e.value,l=t.value,a=n.value,i=o.value,s=r.value;return a="High"==a?1:"Medium"==a?2:3,{title:c,date:l,datetime:new Date(l).getTime()/1e3,priority:a,project:i,completed:!1,description:s}}(),""==e.title){let e=document.createElement("div");return e.textContent="Task requires a title!",e.className="error",void s(e)}if(C.some(t=>t.title==e.title&&t.project==e.project&&t.datetime==e.datetime&&t.description==e.description)){let e=document.createElement("div");return e.textContent="An identical task already exists!",e.className="error",void s(e)}C.push(e);let t=e.project,n=E.filter(e=>e.name==t);if(0!=t.length)if(0==n.length){let n={name:t,tasks:[e]};E.push(n),a(n)}else{let t=E.indexOf(n[0]);E[t].tasks.push(e)}localStorage.setItem("projects",JSON.stringify(E)),localStorage.setItem("allTasks",JSON.stringify(C)),M(C),O(),A("Today"),l(k),H(),J(),I(),D()})}),_.addEventListener("click",()=>{O(),A("Today"),k=C.filter(e=>e.datetime===N),l(k),J(),I()}),f.addEventListener("click",()=>{O(),A("Tomorrow"),j=C.filter(e=>e.datetime===q),l(j),J(),I()}),y.addEventListener("click",()=>{O(),A("This Week");let e=N+172799,t=N+604801;g=C.filter(n=>n.datetime>e&&n.datetime<t),l(g),J(),I()}),S.addEventListener("click",()=>{if(w)return;w=!0,function(){const e=document.querySelector(".projects"),t=document.createElement("div");t.className="projects__new";const n=document.createElement("input");n.type="text",n.placeholder="New project title",n.className="projects__new__title";const o=document.createElement("button");o.className="projects__new__submit",o.innerHTML="&#8618;",t.appendChild(n),t.appendChild(o),e.appendChild(t)}();document.querySelector(".projects__new__submit").addEventListener("click",()=>{let e={name:document.querySelector(".projects__new__title").value,tasks:[]};E.push(e),localStorage.setItem("projects",JSON.stringify(E));const t=document.querySelector(".projects"),n=document.querySelector(".projects__new");t.removeChild(n);const o=Array.from(document.querySelectorAll(".projects__tab"));for(let e of o)p.removeChild(e);if(1!=T)for(let e of E)a(e);H(),D(),w=!1})}),h.addEventListener("click",e=>{const t=document.querySelector(".projects__collapse");if("projects__add"!=e.target.className&&"projects__new__submit"!=e.target.className&&"projects__new__title"!=e.target.className)if(T=!T,1==T){t.innerHTML="&#9650;",Array.from(document.querySelectorAll(".projects__tab")).forEach(e=>p.removeChild(e))}else{t.innerHTML="&#9660;";for(let e of E)a(e);H(),D()}}),u.addEventListener("click",()=>{L?(p.style.width="30%",S.style.display="block"):(p.style.width="0",S.style.display="none"),L=!L}),v.addEventListener("keyup",()=>{let e=v.value,t=Array.from(m.querySelectorAll(".task__title")),n=Array.from(m.querySelectorAll(".task__description")),o=new RegExp(e,"i");for(let e of t)o.test(e.textContent)?e.classList.add("hl"):e.classList.remove("hl");for(let e=0;e<n.length;e++)o.test(n[e].textContent)&&t[e].classList.add("hl");""!=e&&" "!=e||t.forEach(e=>e.classList.remove("hl"))})}]);